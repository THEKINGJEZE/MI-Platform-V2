# Status Archive — January 2025

Archived from active STATUS.md on 20 January 2025.
Covers Phase 1 completion and Phase 1b/1c work.

## Summary
- **Phase 1**: Core Jobs Pipeline — 95% complete (WF1-WF6 built, bugs fixed 18 Jan)
- **Phase 1b**: Competitor Monitoring — 100% complete (WF9 live, Bright Data connected)
- **Phase 1c**: Dashboard MVP — 95% complete (deployed to VPS, pending timing validation)
- **Key accomplishments**: Full pipeline operational, competitor scraping live, dashboard deployed

---

## Phase 1 Completion (18-19 Jan)

### Bug Fixes (18 Jan)
- WF2 deduplication bug fixed (returnAll=true)
- WF4 consolidation bug fixed (ARRAYJOIN formula)
- Tests 1-6 passing
- Verified fixes in workflow JSON files

### Documentation Audit (19 Jan)
- Ran /doc-audit comprehensive alignment check
- Generated docs/AUDIT-REPORT.md with 40 issues (11 high, 17 medium, 12 low)
- Fixed 7 spec headers to match ROADMAP status
- Fixed SPEC-004 wrong table ID (tbl3qHi21UzKqMXWo → tblJgZuI3LM2Az5id)
- Updated ROADMAP SPEC-005 status (Next → Built)
- Fixed 5 broken file references

### Strategy Document Integration (19 Jan)
- Integrated strategy docs from Claude Chat Project Knowledge to filesystem
- Cleaned Section 11 duplicate content
- Updated CHAT-INSTRUCTIONS.md with filesystem locations
- Updated DEPENDENCY-MAP.md with strategy doc change impact rules

### Spec Restructuring (19 Jan)
- Created SPEC-007b: Dashboard MVP (simplified Three-Zone layout)
- Updated SPEC-007a to "Future Phase" with prerequisites
- Updated SPEC-008 to "Future Phase" with prerequisites
- Created skills/README.md with usage guide
- Updated ROADMAP.md with schema evolution path and dashboard evolution path

### Skills Migration
- Migrated 13 skills from V1 to `skills/` folder
- Updated CLAUDE.md with skills table

### Developer Tooling
- Created `/doc-audit` slash command — multi-agent documentation alignment audit
- Created 5 audit subagents

---

## Phase 1b: Competitor Monitoring (19-20 Jan)

### SPEC-1b Implementation
**Final Architecture**:
```
Bright Data (scheduled) → WF9: Competitor Receiver → Signals table → Opportunities
```

**Workflows**:
- WF9: `VLbSZp5cGp1OUQZy` — MI: Competitor Receiver (ACTIVE)
- WF8: `rt3K4H5NAco5VeI0` — [ARCHIVED] MI: Competitor Trigger (not needed)

**Bright Data Collectors**:
| Competitor | Collector ID | Status |
|------------|-------------|--------|
| Investigo | `c_mkeaif24wc2xinpo6` | Live |
| Red Snapper | `c_mke54t691ndre24s37` | Live |

**Webhook**: `https://n8n.srv1190997.hstgr.cloud/webhook/competitor-receiver`

### End-to-End Verification
- WF9 Parse node enhanced with format-specific normalisation
- Red Snapper: `hourly_rate` object → "£16.01/hr", dates pass through
- Investigo: Human dates parsed, `reference_number` → external_id
- Non-police job pre-filter using keyword matching (G-005)
- Bright Data webhook delivery configured for both collectors
- Live data flowing: 5+ Investigo jobs, Red Snapper jobs received
- Force matching, date parsing, salary formatting all verified

---

## Phase 1c: Dashboard MVP (19-20 Jan)

### SPEC-007b Implementation — Stages 1-4 Complete

**Files Created (18 new)**:
- `dashboard/styles/tokens.css` — Design tokens
- `dashboard/lib/stores/review-store.ts` — Zustand state management
- `dashboard/components/review/review-layout.tsx` — Three-Zone wrapper
- `dashboard/components/review/queue-panel.tsx` — Queue Panel
- `dashboard/components/review/now-card.tsx` — Now Card
- `dashboard/components/review/composer-dock.tsx` — Composer Dock
- `dashboard/components/review/session-header.tsx` — Progress header
- `dashboard/components/review/dismiss-modal.tsx` — Dismiss with reasons
- `dashboard/components/review/shortcut-overlay.tsx` — Keyboard help
- `dashboard/components/feedback/toast.tsx` — Toast with undo
- `dashboard/components/feedback/empty-state.tsx` — Empty state
- `dashboard/components/feedback/error-state.tsx` — Error state
- `dashboard/components/feedback/loading-skeleton.tsx` — Loading skeleton
- `dashboard/lib/hooks/use-keyboard-nav.ts` — Keyboard navigation
- `dashboard/app/review/page.tsx` — Review page

**Files Modified (4)**:
- `dashboard/.env.local` — API keys configured
- `dashboard/package.json` — Added zustand, swr, @radix-ui/react-dialog
- `dashboard/app/globals.css` — Import tokens.css
- `dashboard/app/page.tsx` — Redirect to /review

### VPS Deployment (20 Jan)
- Created `dashboard/ecosystem.config.js` — PM2 process manager config
- Created `dashboard/deploy.sh` — VPS deployment script
- Created `dashboard/nginx.conf.example` — Reference config (VPS uses Traefik)
- Deployed to VPS at `72.61.202.117`
- Configured Traefik dynamic routing at `/docker/n8n/dynamic/dashboard.yml`
- SSL certificate provisioned via Let's Encrypt
- Tested keyboard navigation (J/K/?/Esc) — all working
- Tested filter tabs (Ready/Sent/All) — all working
- 32 opportunities loading from Airtable

### SPEC-007a Updated — Sales Strategy Alignment
- Removed dual-track scoring (ms_score, ag_score, primary_track)
- Aligned with SALES-STRATEGY.md Lead Prioritisation Model
- Added Priority Tier display (P1/P2/P3)
- Added SignalPatternCards component (replaces DualTrackScores)
- Added Contact Confidence indicator (Problem Owner vs HR Fallback)

### Global Config Fix
- Updated ~/.claude/CLAUDE.md to correct Airtable base (`appEEWaGtGUwOyOhm`)
- Updated table IDs to V2 schema (Forces, Contacts, Signals, Opportunities)

---

## Decisions Made (January 2025)

| Decision | Rationale |
|----------|-----------|
| Created SPEC-007b (Dashboard MVP) | SPEC-007a requires schema expansion V2 doesn't have |
| Deferred SPEC-007a | Dual-track scoring needs Phase 1b + schema fields |
| Deferred SPEC-008 | Morning Brief needs overnight tracking infrastructure |
| Created skills/README.md | Skills are reference, not requirements |
| Updated ROADMAP with evolution paths | Future features documented |
| Bright Data handles scheduling | WF8 archived — Bright Data triggers directly |

---

*Archived on: 20 January 2025*
*Archived because: Weekly hygiene — STATUS.md exceeded 100 line limit*
